"use strict";window.onload=function(){var a=new Instance;a.Init()},function(){function a(a){this.range=a.range,this.seed=a.seed,this.loops=a.loops}a.prototype.New=function(){for(var a=this.NewSeed(),b=0;b<this.loops;b++)a=this.Split(a);return a},a.prototype.NewSeed=function(){for(var a=[],b=0;b<this.seed.height;b++){a[b]=[];for(var c=0;c<this.seed.width;c++)a[b][c]=Math.floor(Math.random()*this.range)}return a},a.prototype.Split=function(a){return a=this.SplitHorizontal(a),a=this.SplitVertical(a),a=this.SplitCentral(a)},a.prototype.SplitHorizontal=function(a){var b=[];for(var c in a){b[c]=[];for(var d in a[c]){b[c].push(a[c][d]);var e=a[c][d],f=void 0==a[c][parseInt(d)+1]?Math.floor(Math.random()*this.range):a[c][parseInt(d)+1];b[c].push(this.NewTile(e,f))}}return b},a.prototype.SplitVertical=function(a){var b=[];for(var c in a){b[2*c]=a[c],b[2*c+1]=[];for(var d=!0,e=0;e<a[c].length;e++)if(1==d){var f=void 0==a[parseInt(c)-1]?Math.floor(Math.random()*this.range):a[parseInt(c)-1][e],g=void 0==a[parseInt(c)+1]?Math.floor(Math.random()*this.range):a[parseInt(c)+1][e];b[2*c+1].push(this.NewTile(f,g)),d=!1}else b[2*c+1].push(0),d=!0}return b},a.prototype.SplitCentral=function(a){var b=!1;for(var c in a)if(1==b){b=!1;for(var d in a[c])1==b?(b=!1,a[c][d]=this.NewCentrTile(a,c,d)):b=!0;b=!1}else b=!0;return a},a.prototype.NewTile=function(a,b){var c=b>=a?a:b,d=a>=b?a:b;return Math.floor(Math.random()*(d-c+1))+c-1},a.prototype.NewCentrTile=function(a,b,c){var d=void 0==a[parseInt(b)-1]?Math.floor(Math.random()*this.range):a[parseInt(b)-1][c],e=void 0==a[parseInt(b)+1]?Math.floor(Math.random()*this.range):a[parseInt(b)+1][c];return this.NewTile(d,e)},window.Generator=a}(),function(){function a(){this.data=[],this.canvas={dom:document.getElementById("myCanvas"),context:document.getElementById("myCanvas").getContext("2d")},this.grid={width:8,height:8,xOffset:0,yOffset:0},this.map={seed:{width:10,height:8},range:19,opacity:.05,sealevel:-5,loops:5,color:!0}}a.prototype.Init=function(){this.generator=new Generator(this.map),this.mapDrawer=new MapDrawer(this.canvas,this.grid,this.map),this.data=this.generator.New(),this.mapDrawer.draw(this.data)},window.Instance=a}(),function(){function a(a,b,c){this.canvas=a,this.grid=b,this.map=c}a.prototype.draw=function(a){var b=0,c=0;this.canvas.dom.width=window.innerWidth,this.canvas.dom.height=window.innerHeight;var d=document.createElement("canvas"),e=d.getContext("2d");d.width=window.innerWidth,d.height=window.innerHeight;for(var f in a){for(var g in a[f])this.drawTile(b,c,a[f][g],e),b++;b=0,c++}this.canvas.context.drawImage(d,0,0)},a.prototype.drawTile=function(a,b,c,d){var e=["#303056","#303056","#303056","#303056","#3D3D69","#5B66A7","#7784CF","#CBB361","#81BA84","#49A34d","#469A47","#408d3E","#346E29","#346E29","#6B5629","#6B5629","#564D39","#4D4D48","#7E7F82","#C4C4C4"],a=a*this.grid.width+(0-(this.grid.width-this.grid.xOffset)),b=b*this.grid.height+(0-(this.grid.height-this.grid.yOffset));d.fill(),d.beginPath(),d.rect(a,b,this.grid.width,this.grid.height),d.fillStyle=this.map.color?e[c-this.map.sealevel]:"rgba(255,255,255,"+(c-this.map.sealevel)*this.map.opacity+")",d.closePath()},window.MapDrawer=a}();