"use strict";window.onload=function(){var a=new Instance;a.Init()},function(){function a(a){this.range=a.range,this.seed=a.seed,this.loops=a.loops}a.prototype.New=function(){for(var a=this.NewSeed(),b=0;b<this.loops;b++)a=this.Split(a);return a},a.prototype.NewSeed=function(){for(var a=[],b=0;b<this.seed.height;b++){a[b]=[];for(var c=0;c<this.seed.width;c++)a[b][c]=Math.floor(Math.random()*this.range)}return a},a.prototype.Split=function(a){return a=this.SplitHorizontal(a),a=this.SplitVertical(a),a=this.SplitCentral(a)},a.prototype.SplitHorizontal=function(a){var b=[];for(var c in a){b[c]=[];for(var d in a[c]){b[c].push(a[c][d]);var e=a[c][d],f=void 0==a[c][parseInt(d)+1]?Math.floor(Math.random()*this.range):a[c][parseInt(d)+1];b[c].push(this.NewTile(e,f))}}return b},a.prototype.SplitVertical=function(a){var b=[];for(var c in a){b[2*c]=a[c],b[2*c+1]=[];for(var d=!0,e=0;e<a[c].length;e++)if(1==d){var f=void 0==a[parseInt(c)-1]?Math.floor(Math.random()*this.range):a[parseInt(c)-1][e],g=void 0==a[parseInt(c)+1]?Math.floor(Math.random()*this.range):a[parseInt(c)+1][e];b[2*c+1].push(this.NewTile(f,g)),d=!1}else b[2*c+1].push(0),d=!0}return b},a.prototype.SplitCentral=function(a){var b=!1;for(var c in a)if(1==b){b=!1;for(var d in a[c])1==b?(b=!1,a[c][d]=this.NewCentrTile(a,c,d)):b=!0;b=!1}else b=!0;return a},a.prototype.NewTile=function(a,b){var c=b>=a?a:b,d=a>=b?a:b;return Math.floor(Math.random()*(d-c+1))+c-1},a.prototype.NewCentrTile=function(a,b,c){var d=void 0==a[b][parseInt(c)-1]?Math.floor(Math.random()*this.range):a[b][parseInt(c)-1],e=void 0==a[b][parseInt(c)+1]?Math.floor(Math.random()*this.range):a[b][parseInt(c)+1],f=void 0==a[parseInt(b)-1]?Math.floor(Math.random()*this.range):a[parseInt(b)-1][c],g=void 0==a[parseInt(b)+1]?Math.floor(Math.random()*this.range):a[parseInt(b)+1][c],h=Math.floor((d+e)/2),i=Math.floor((f+g)/2);return this.NewTile(h,i)},window.Generator=a}(),function(){function a(){this.data=[],this.canvas={dom:document.getElementById("myCanvas"),context:document.getElementById("myCanvas").getContext("2d")},this.grid={width:35,height:27,xOffset:17,yOffset:16},this.map={seed:{width:10,height:8},range:19,opacity:.05,sealevel:-0,loops:4,color:!0}}a.prototype.Init=function(){this.generator=new Generator(this.map),this.mapDrawer=new MapDrawer(this.canvas,this.grid,this.map),this.data=this.generator.New(),this.mapDrawer.draw(this.data)},window.Instance=a}(),function(){function a(a,b,c){this.canvas=a,this.grid=b,this.map=c}a.prototype.draw=function(a){var b=0,c=0;this.canvas.dom.width=window.innerWidth,this.canvas.dom.height=window.innerHeight;for(var d in a){for(var e in a[d])this.drawTile(b,c,a[d][e]),b++;b=0,c++}},a.prototype.drawTile=function(a,b,c){var d=["#303056","#303056","#303056","#303056","#3d3d69","#5b66a7","#7784cf","#cbb361","#81ba84","#49a34d","#469a47","#408d3e","#346e29","#346e29","#6b5629","#6b5629","#564d39","#4d4d48","#7e7f82","#c4c4c4"],e=this.canvas.context,a=a*this.grid.width+(0-(this.grid.width-this.grid.xOffset)),b=b*this.grid.height+(0-(this.grid.height-this.grid.yOffset));e.beginPath(),e.rect(a,b,this.grid.width,this.grid.height),e.fillStyle=this.map.color?d[c-this.map.sealevel]:"rgba(255,255,255,"+(c-this.map.sealevel)*this.map.opacity+")",e.fill(),e.closePath()},window.MapDrawer=a}();